name: 'Weekly Release'

on:
  schedule:
    - cron:  '0 8 * * 1'
  workflow_dispatch:
    inputs:
      logLevel:
        description: 'Manual release'     
        required: true
        default: 'Manual release'
      tags:
        description: 'Tag release' 
jobs:
  weekly-merge:

    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Tag
      uses: mydea/action-tag-date-version@v20

    - name: Nightly Merge
      uses: robotology/gh-action-nightly-merge@v1.3.1
      with:
        stable_branch: 'master'
        development_branch: 'production'
        allow_ff: false
        user_name: 'Release Action'
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
